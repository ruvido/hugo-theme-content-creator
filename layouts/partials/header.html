<!-- Skip to main content for accessibility -->
<a href="#main-content" class="skip-to-content">Salta al contenuto principale</a>

<header class="header">
  <div class="container">
    <div class="header-content">
      <!-- Logo Left -->
      <a href="{{ .Site.BaseURL }}" class="logo" aria-label="Torna alla homepage di {{ .Site.Title }}" rel="home">
        <span itemprop="name">{{ .Site.Title }}</span>
      </a>
      
      <!-- Desktop Navigation -->
      <nav class="nav nav-desktop" aria-label="Navigazione principale">
        {{ $currentLang := .Site.Language.Lang }}
        {{ $menuData := index .Site.Data $currentLang "menu" }}
        {{ if $menuData }}
          {{ range $menuData.main }}
            <a href="{{ .url }}" class="nav-link" {{ if eq .url $.RelPermalink }}aria-current="page"{{ end }}>{{ .name }}</a>
          {{ end }}
        {{ else }}
          {{ range .Site.Menus.main }}
            <a href="{{ .URL }}" class="nav-link" {{ if eq .URL $.RelPermalink }}aria-current="page"{{ end }}>{{ i18n (printf "menu_%s" .Identifier) }}</a>
          {{ end }}
        {{ end }}
      </nav>
      
      <!-- Right Side Controls -->
      <div class="header-controls">
        {{ if .Site.Params.enable_search }}
        <div class="search-container">
          <a href="/search/" class="search-toggle" aria-label="Cerca contenuti" rel="search">
            <span class="search-icon" aria-hidden="true"></span>
          </a>
        </div>
        {{ end }}
        
        <!-- Simple Mobile Menu Toggle -->
        <button class="mobile-menu-toggle" type="button" aria-expanded="false" aria-controls="mobile-menu" aria-label="Menu di navigazione">
          <div class="hamburger">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </div>
        </button>
      </div>
      
      <!-- Mobile Dropdown Menu -->
      <div class="mobile-menu-dropdown" id="mobile-menu" role="menu" aria-hidden="true">
        {{ $currentLang := .Site.Language.Lang }}
        {{ $menuData := index .Site.Data $currentLang "menu" }}
        {{ if $menuData }}
          {{ range $menuData.main }}
            <a href="{{ .url }}" class="nav-link" {{ if eq .url $.RelPermalink }}aria-current="page"{{ end }} role="menuitem">{{ .name }}</a>
          {{ end }}
        {{ else }}
          {{ range .Site.Menus.main }}
            <a href="{{ .URL }}" class="nav-link" {{ if eq .URL $.RelPermalink }}aria-current="page"{{ end }} role="menuitem">{{ i18n (printf "menu_%s" .Identifier) }}</a>
          {{ end }}
        {{ end }}
      </div>
    </div>
  </div>
</header>