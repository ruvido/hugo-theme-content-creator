<!DOCTYPE html>
<html lang="{{ .Site.Language.Lang }}" data-theme="light">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Optimized Resource Hints for sub-1.5s FCP -->
    <link rel="preconnect" href="{{ .Site.BaseURL }}" crossorigin>
    <link rel="dns-prefetch" href="{{ .Site.BaseURL }}">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <title>{{ if .Title }}{{ .Title }} | {{ end }}{{ .Site.Title }}</title>
    <meta name="description" content="{{ with .Description }}{{ . }}{{ else }}{{ .Site.Params.description }}{{ end }}">
    
    <!-- SEO and Social Media Meta Tags -->
    <meta name="author" content="{{ .Site.Params.author.name | default .Site.Title }}">
    <meta property="og:title" content="{{ if .Title }}{{ .Title }} | {{ end }}{{ .Site.Title }}">
    <meta property="og:description" content="{{ with .Description }}{{ . }}{{ else }}{{ .Site.Params.description }}{{ end }}">
    <meta property="og:type" content="{{ if .IsPage }}article{{ else }}website{{ end }}">
    <meta property="og:url" content="{{ .Permalink }}">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{{ if .Title }}{{ .Title }} | {{ end }}{{ .Site.Title }}">
    <meta name="twitter:description" content="{{ with .Description }}{{ . }}{{ else }}{{ .Site.Params.description }}{{ end }}">
    <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    
    <!-- Additional SEO Meta Tags -->
    <meta name="language" content="{{ .Site.Language.Lang }}">
    <meta name="rating" content="general">
    <meta name="distribution" content="global">
    <meta name="revisit-after" content="7 days">
    <meta name="generator" content="Hugo {{ hugo.Version }}">
    
    <!-- Open Graph Protocol -->
    <meta property="og:locale" content="{{ .Site.Language.Lang }}_{{ upper .Site.Language.Lang }}">
    <meta property="og:site_name" content="{{ .Site.Title }}">
    {{ with .Site.Params.social.facebook }}<meta property="fb:admins" content="{{ . }}">{{ end }}
    
    <!-- Twitter Card -->
    <meta name="twitter:creator" content="{{ with .Site.Params.social.twitter }}@{{ . }}{{ end }}">
    <meta name="twitter:site" content="{{ with .Site.Params.social.twitter }}@{{ . }}{{ end }}">
    {{ if .IsPage }}
    <meta name="article:author" content="{{ .Params.author | default .Site.Author.name }}">
    <meta name="article:published_time" content="{{ .Date.Format "2006-01-02T15:04:05-07:00" }}">
    <meta name="article:modified_time" content="{{ .Lastmod.Format "2006-01-02T15:04:05-07:00" }}">
    {{ range .Params.tags }}<meta name="article:tag" content="{{ . }}">{{ end }}
    {{ end }}
    
    <!-- Canonical URL -->
    <link rel="canonical" href="{{ .Permalink }}">
    
    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "{{ if .IsPage }}Article{{ else }}WebSite{{ end }}",
      "name": "{{ if .Title }}{{ .Title }}{{ else }}{{ .Site.Title }}{{ end }}",
      "description": "{{ with .Description }}{{ . }}{{ else }}{{ .Site.Params.description }}{{ end }}",
      "url": "{{ .Permalink }}",
      "inLanguage": "{{ .Site.Language.Lang }}",
      {{ if not .IsPage }}
      "potentialAction": {
        "@type": "SearchAction",
        "target": {
          "@type": "EntryPoint",
          "urlTemplate": "{{ .Site.BaseURL }}search?q={search_term_string}"
        },
        "query-input": "required name=search_term_string"
      },
      {{ end }}
      "publisher": {
        "@type": "{{ if .Site.Author.name }}Person{{ else }}Organization{{ end }}",
        "name": "{{ .Site.Params.author.name | default .Site.Title }}"{{ with .Site.Params.social.website }},
        "url": "{{ . }}"{{ end }}
      }{{ if .IsPage }},
      "headline": "{{ .Title }}",
      "datePublished": "{{ .Date.Format "2006-01-02T15:04:05-07:00" }}",
      "dateModified": "{{ .Lastmod.Format "2006-01-02T15:04:05-07:00" }}",
      "wordCount": {{ .WordCount }},
      "author": {
        "@type": "Person", 
        "name": "{{ .Params.author | default .Site.Params.author.name }}"
      },
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "{{ .Permalink }}"
      }{{ end }}
    }
    </script>
    
    <!-- Performance optimized - minimal external requests -->
    <meta name="theme-color" content="#2563eb">
    <meta name="color-scheme" content="light dark">
    
    <!-- Favicon optimizations -->
    <link rel="icon" href="/favicon.ico" sizes="any">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    
    <!-- Optimized theme script - prevent FOUC -->
    <script>
    !function(){try{var e=localStorage.getItem("theme-preference"),t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,r=e&&("light"===e||"dark"===e)?e:t?"dark":"light";"dark"===r&&(document.documentElement.setAttribute("data-theme","dark"),document.querySelector('meta[name="theme-color"]').setAttribute("content","#0f172a"))}catch(e){}}();
    </script>
    
    <!-- Ultra-optimized critical CSS for sub-1.5s FCP -->
    <style>
    *,*::before,*::after{box-sizing:border-box}*{margin:0}body{font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;line-height:1.6;color:#1e293b;background:#fff;-webkit-font-smoothing:antialiased;font-display:swap}:root{--color-bg:#ffffff;--color-bg-secondary:#f8fafc;--color-text:#1e293b;--color-text-muted:#475569;--color-brand:#1e40af;--color-accent:#7c3aed;--color-border:#e2e8f0;--color-surface:#ffffff;--space-xs:0.25rem;--space-sm:0.5rem;--space-md:1rem;--space-lg:1.5rem;--space-xl:2rem;--space-2xl:3rem;--space-3xl:4rem;--space-4xl:6rem;--container-max:1200px;--container-padding:var(--space-lg);--border-radius:0.5rem;--border-radius-lg:1rem;--transition:150ms cubic-bezier(0.4,0,0.2,1);--transition-theme:300ms cubic-bezier(0.4,0,0.2,1);--font-weight-normal:400;--font-weight-medium:500;--font-weight-semibold:600;--font-weight-bold:700;--font-weight-black:900;--shadow-sm:0 1px 2px 0 rgb(0 0 0 / 0.05);--shadow-md:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--shadow-lg:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)}[data-theme="dark"]{--color-bg:#0f172a;--color-bg-secondary:#1e293b;--color-text:#f1f5f9;--color-text-muted:#94a3b8;--color-brand:#3b82f6;--color-accent:#8b5cf6;--color-border:#334155;--color-surface:#1e293b;--shadow-sm:0 1px 2px 0 rgb(0 0 0 / 0.3);--shadow-md:0 4px 6px -1px rgb(0 0 0 / 0.4), 0 2px 4px -2px rgb(0 0 0 / 0.3);--shadow-lg:0 10px 15px -3px rgb(0 0 0 / 0.5), 0 4px 6px -4px rgb(0 0 0 / 0.4)}.container{max-width:var(--container-max);margin:0 auto;padding:0 var(--container-padding)}.header{background:var(--color-surface);border-bottom:1px solid var(--color-border);position:sticky;top:0;z-index:100}.header-content{display:flex;align-items:center;justify-content:space-between;padding:var(--space-lg) 0;min-height:70px}.logo{font-size:1.5rem;font-weight:var(--font-weight-black);text-decoration:none;color:var(--color-text);flex-shrink:0;contain:layout}.hero{text-align:center;background:var(--color-bg);min-height:60vh;display:flex;align-items:center;justify-content:center;contain:layout style paint;transform:translateZ(0)}.hero-title{font-size:clamp(3rem,10vw,6rem);margin-bottom:var(--space-xl);color:var(--color-brand);font-weight:var(--font-weight-black);line-height:1.1;letter-spacing:-0.02em;contain:layout style paint;transform:translateZ(0);will-change:auto}.hero-description{font-size:clamp(1.25rem,2.5vw,1.5rem);color:var(--color-text-muted);margin-bottom:var(--space-3xl);max-width:700px;margin-left:auto;margin-right:auto;line-height:1.6;font-weight:var(--font-weight-medium);contain:layout;transform:translateZ(0)}.btn{display:inline-flex;align-items:center;justify-content:center;gap:var(--space-xs);padding:var(--space-md) var(--space-xl);font-weight:var(--font-weight-semibold);text-decoration:none;border:2px solid transparent;border-radius:var(--border-radius);transition:transform var(--transition);cursor:pointer;font-size:1rem;white-space:nowrap;flex-shrink:0;contain:layout;transform:translateZ(0)}.btn-primary{background:var(--color-brand);color:#fff}.btn-primary:hover{transform:translateY(-2px) translateZ(0)}.btn-secondary{background:transparent;color:var(--color-brand);border-color:var(--color-brand)}.btn-secondary:hover{background:var(--color-brand);color:#fff}.btn-large{padding:var(--space-lg) var(--space-2xl);font-size:1.125rem;font-weight:var(--font-weight-bold);min-height:56px}.hero-cta{display:flex;gap:var(--space-lg);justify-content:center;align-items:center;flex-wrap:wrap;contain:layout}html{scroll-behavior:smooth}body{color:var(--color-text);background:var(--color-bg);transition:background-color var(--transition-theme),color var(--transition-theme);contain:layout style}
    </style>
    
    <!-- Font optimization with system fonts - no preload needed -->
    <style>
    @font-face {
      font-family: 'Inter Fallback';
      src: local('system-ui'), local('-apple-system'), local('BlinkMacSystemFont'), local('Segoe UI'), local('Roboto'), local('Helvetica'), local('Arial'), local('sans-serif');
      font-display: swap;
    }
    </style>
    
    <!-- CSS Loading -->
    {{ $mainCss := resources.Get "css/main.css" | resources.Minify | resources.Fingerprint }}
    {{ $menuCss := resources.Get "css/components/menu.css" | resources.Minify | resources.Fingerprint }}
    {{ $themeCss := resources.Get "css/theme.css" | resources.Minify | resources.Fingerprint }}
    
    <link rel="preload" href="{{ $mainCss.Permalink }}" as="style" onload="this.onload=null;this.rel='stylesheet'" fetchpriority="high">
    <noscript><link rel="stylesheet" href="{{ $mainCss.Permalink }}"></noscript>
    
    {{ if $menuCss }}
    <link rel="stylesheet" href="{{ $menuCss.Permalink }}" fetchpriority="high">
    {{ end }}
    
    {{ if $themeCss }}
    <link rel="stylesheet" href="{{ $themeCss.Permalink }}" fetchpriority="low">
    {{ end }}
    
    
</head>
<body>
    {{ partial "header.html" . }}

    <main id="main-content">
        {{ block "main" . }}{{ end }}
    </main>
    
    {{ partial "footer.html" . }}
    
    <!-- JavaScript Loading -->
    {{ $themeJs := resources.Get "js/theme.js" | resources.Minify | resources.Fingerprint }}
    {{ $menuJs := resources.Get "js/components/menu.js" | resources.Minify | resources.Fingerprint }}
    {{ $mainJs := resources.Get "js/main.js" | resources.Minify | resources.Fingerprint }}
    
    <script src="{{ $themeJs.Permalink }}" defer></script>
    {{ if $menuJs }}
    <script src="{{ $menuJs.Permalink }}" defer></script>
    {{ end }}
    <script src="{{ $mainJs.Permalink }}" defer></script>
</body>
</html>
