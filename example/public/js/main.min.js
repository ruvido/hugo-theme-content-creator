let cachedElements={};function getCachedElement(e){return cachedElements[e]||(cachedElements[e]=document.querySelector(e)),cachedElements[e]}function initTheme(){const e=getCachedElement(".theme-toggle"),t=getCachedElement(".theme-icon");if(e&&t){const n=document.documentElement.getAttribute("data-theme")||"light";updateThemeIcon(t,n),e.addEventListener("click",handleThemeToggle,{passive:!0})}}function handleThemeToggle(){const t=document.documentElement.getAttribute("data-theme")||"light",e=t==="light"?"dark":"light";requestAnimationFrame(()=>{document.documentElement.setAttribute("data-theme",e);const t=getCachedElement(".theme-icon");t&&updateThemeIcon(t,e)});try{localStorage.setItem("theme",e)}catch{}}function updateThemeIcon(e,t){e&&(e.textContent=t==="dark"?"â˜€ï¸":"ðŸŒ™")}function initMobileMenu(){const e=getCachedElement(".mobile-menu-toggle"),t=getCachedElement(".nav-mobile");e&&t&&e.addEventListener("click",handleMobileMenuToggle,{passive:!0})}function handleMobileMenuToggle(){const e=getCachedElement(".mobile-menu-toggle"),t=getCachedElement(".nav-mobile");if(!e||!t)return;const n=e.classList.contains("active");requestAnimationFrame(()=>{e.classList.toggle("active"),e.setAttribute("aria-expanded",!n),t.classList.toggle("display-none")})}function initLazyImages(){if(!("IntersectionObserver"in window))return;const e=document.querySelectorAll("img[data-src]");if(!e.length)return;const t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target,s=new Image;s.onload=()=>{requestAnimationFrame(()=>{n.src=n.dataset.src,n.classList.remove("lazy"),n.classList.add("loaded")})},s.src=n.dataset.src,t.unobserve(n)}})},{rootMargin:"50px",threshold:.1});e.forEach(e=>t.observe(e))}(function(){"use strict";function e(){try{initTheme(),initMobileMenu()}catch(e){console.warn("Critical initialization failed:",e)}n()}function t(){try{initLazyImages()}catch(e){console.warn("Non-critical initialization failed:",e)}}function n(){"requestIdleCallback"in window?requestIdleCallback(t,{timeout:2e3}):setTimeout(t,500)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e,{once:!0}):e()})()